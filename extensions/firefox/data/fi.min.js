!function(){function e(e,t){var i=document.createElement("style");i.type="text/css",t=t||document.body,t.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}var t,i,n,o=function(e){return[].slice.call(e)},r=function(e){return e.replace(/^\s+|\s+$/g,"")},a=function(e){return e.replace(/\s+/g," ")},l=function(e){return a(r(e))},f=function(e,t,i){if("function"!=typeof i||i(e)){if(e.childNodes.length)for(var n=o(e.childNodes),r=0,a=n.length;a>r;r++)f(n[r],t,i);"function"==typeof t&&t(e)}},c=function(e){return e.nodeType===Node.TEXT_NODE},p=function(e){if(!e||e===document.documentElement)return!0;{var t=window.getComputedStyle(e);e.parentNode}return"none"!==t.display&&"hidden"!==t.visibility&&0!==parseFloat(t.opacity)&&p(e.parentNode)},s={SCRIPT:!0,NOSCRIPT:!0,STYLE:!0,IFRAME:!0,OPTION:!0},d=function(e){var t=e.parentNode;return c(e)&&p(t)&&!s[t.tagName]},u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},m=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)e.hasOwnProperty(i)&&m.push(i);return t},g=function(e){var t=function(e){return u[e]},i="(?:"+m(u).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e},h=function(e){e&&e.parentNode.removeChild(e)},b=function(e,t){for(var i=(e.document||e.ownerDocument).querySelectorAll(t),n=0;i[n]&&i[n]!==e;)n++;return!!i[n]},y=function(e){return e||window.event},x=function(e){return e=e||y(e),e.target||e.sourceElement},v=function(e){e=e||y(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},w={},N={},k=36,E=18,T="fi-report",C=function(){w={},f(document.body,function(e){if(d(e)){var t=l(e.nodeValue),i=t.length;if(i){var n=window.getComputedStyle(e.parentNode).fontFamily;w.hasOwnProperty(n)||(w[n]=0,N[n]=e.parentNode),w[n]+=i}}},function(e){return e.id!==T});var e=[];for(var t in w)0!==w[t]&&e.push({family:t,count:w[t],weight:Math.log(w[t])});return e.sort(function(e,t){return t.weight-e.weight}),e},S=function(o){var r=o[0].weight,a=o[o.length-1].weight,l=o.map(function(e){var t=1===o.length?k:(e.weight-a)/(r-a)*(k-E)+E,i=['<li style="font-family: '+g(e.family)+"; font-size: "+t+'px;" title="'+g(e.family)+'" data-family="'+g(e.family)+'">',g(e.family)+'<span class="fi-count" title="'+e.count+" glyph"+(e.count>1?"s":"")+'">'+e.count+"</span>","</li>"].join("");return i});if(t=document.getElementById(T),!t){t=document.createElement("aside"),t.id=T,t.className="fi-families",i=document.createElement("ol"),i.className="fi-families-list",t.appendChild(i),n=document.createElement("ol"),n.className="fi-used-family-list",t.appendChild(n);var f=document.createElement("span");f.className="fi-switcher";var c=["Rendered font-families (maybe slow on some page)","Specified font-families"];t.insertBefore(f,i);var p=document.createElement("span");p.innerHTML=c[0],f.appendChild(p);var s=document.createElement("button");s.innerHTML="Proceed",s.className="fi-proceed",f.appendChild(s),s.onclick=function(){"fi-used"===t.className?(p.innerHTML=c[0],S(C()),t.className="fi-families"):(p.innerHTML=c[1],self.port.emit("check-used"),t.className="fi-used")};var d=document.createElement("button");d.className="fi-close",d.innerHTML="Ã—",t.appendChild(d),d.onclick=function(){h(t)};var u=document.createElement("a");u.className="fi-link",u.href="http://justineo.github.io/fi/",u.innerHTML="Powered by <strong>fi</strong>",t.appendChild(u);var m='#fi-report button::-moz-focus-inner{padding:0;border:0}\n#fi-report{overflow:auto;position:fixed;top:0;left:0;width:100%;height:100%;margin:0;padding:0;background-color:rgba(0,0,0,.8);text-align:left;z-index:2147483647}\n#fi-report ol{margin:0;padding:10px}\n#fi-report li{float:left;clear:left;margin:0 0 10px;padding:0 0 0 10px;border-left:3px solid rgba(255,255,255,.1);background-color:rgba(255,255,255,.1);list-style:none;line-height:1.5;color:#fff;text-shadow:1px 1px 0 #000;text-align:left;cursor:pointer}\n#fi-report li:hover{background-color:rgba(255,255,255,.2);border-left-color:#fff}\n#fi-report .fi-count{float:right;margin-left:10px;padding:0 5px;background-color:#000;font-size:.5em;font-weight:400;cursor:help}\n#fi-report .fi-link{position:absolute;right:10px;bottom:10px;padding:1px 10px;border:none;border-radius:0;background-color:rgba(255,255,255,.1);font-size:10px;color:rgba(255,255,255,.7)}\n#fi-report .fi-link strong{color:#fff;font-family:inherit;font-size:12px;font-weight:100}\n#fi-report a,#fi-report button,#fi-report span{font-family:"Avenir Next","Segoe UI",Helvetica,Arial,sans-serif!important;font-weight:100}\n#fi-report .fi-close,#fi-report .fi-proceed,#fi-report .fi-switcher{padding:0;background-color:rgba(255,255,255,.1);border:none;color:rgba(255,255,255,.7);cursor:pointer}\n#fi-report .fi-close{position:absolute;top:10px;right:10px;width:48px;line-height:48px;text-align:center;font-size:28px;font-weight:700}\n#fi-report .fi-switcher{display:inline-block;margin:10px 0 0 10px;padding-left:10px;font-size:14px;line-height:24px;cursor:help}\n#fi-report .fi-switcher span{display:inline-block;vertical-align:middle}\n#fi-report .fi-proceed{display:inline-block;overflow:hidden;width:0;margin-left:10px;background-color:rgba(255,255,255,.3);line-height:24px;text-align:center;font-weight:400;transition:width .5s 1s;cursor:pointer}\n#fi-report .fi-switcher:hover .fi-proceed{width:80px;transition-delay:0s}\n#fi-report .fi-close:hover,#fi-report .fi-link:hover,#fi-report .fi-switcher:hover{background-color:rgba(255,255,255,.2);color:#fff}\n.fi-families .fi-used-family-list,.fi-used .fi-families-list{display:none}';e(m,t),document.body.appendChild(t),t.onclick=function(e){var t=x(e);if(b(t,"#"+T+" .families-list li, #"+T+" .families-list li *")){for(;!b(t,"#"+T+" .families-list li");)t=t.parentNode;var i=t.getAttribute("data-family"),n=N[i];n.style.outline="2px dotted red",n.scrollIntoView()}v(e)}}"fi-used"===t.className?n.innerHTML=l.join(""):i.innerHTML=l.join("")};return S(C()),self.port.on("used-checked",function(e){S(JSON.parse(e))}),!1}();